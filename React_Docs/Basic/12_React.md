### `React로 생각하기`

React는 JS로 규모가 크고 빠른 웹 애플리케이션을 만드는 가장 좋은 방법이다.

- 목업으로 시작하기

  - JSON API와 목업을 디자이너로부터 받았다고 가정한다면

    - 목업

      ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ef2f7bb3-71d0-4f0f-ac7b-d2865e86932f/Untitled.png)

    - JSON API

      ```json
      [
        {category: "Sporting Goods", price: "$49.99", stocked: true, name: "Football"},
        {category: "Sporting Goods", price: "$9.99", stocked: true, name: "Baseball"},
        {category: "Sporting Goods", price: "$29.99", stocked: false, name: "Basketball"},
        {category: "Electronics", price: "$99.99", stocked: true, name: "iPod Touch"},
        {category: "Electronics", price: "$399.99", stocked: false, name: "iPhone 5"},
        {category: "Electronics", price: "$199.99", stocked: true, name: "Nexus 7"}
      ];
      ```

- 1단계: UI를 컴포넌트 계층 구조로 나누기

  - 첫 번째 일은 모든 컴포넌트와 하위 컴포넌트의 주변에 박스를 그리고 각각에 네이밍 하기.
  - 하지만 어떤 것이 컴포넌트가 되어야 할지 알기 어려울 땐
    - 새로운 함수나 객체를 만들 때처럼 만들면 된다.
    - 한 가지 테크닉은 단일 책임 원칙
      - 이는 하나의 컴포넌트는 한 가지 일을 하는게 이상적이라는 원칙이다.
      - 하나의 컴포넌트가 커지게 된다면 이는 보다 작은 하위 컴포넌트로 분리되어야 한다.
  - 주로 JSON 데이터를 유저에게 보여주기 때문에, 데이터 모델이 적절하게 만들어졌다면, UI(컴포넌트 구조)가 잘 연결될 것이다.
    - 이는 UI와 데이터 모델이 같은 인포메이션 아키텍처를 가지는 경향이 있기 때문.
  - 각 컴포넌트가 데이터 모델의 한 조각을 나타내도록 잘 분리하자.

  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9a745b2e-18ae-4fe7-97a2-4b527ccaf5fe/Untitled.png)

  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cc58c62a-ffaf-4859-850e-0927451bb822/Untitled.png)

- 2단계: React로 정적인 버전 만들기

  - 이제 컴포넌트 계층 구조가 만들어졌으니 앱을 실제로 구현해볼 시간인데.
  - 가장 쉬운 방법은 데이터 모델을 가지고 UI를 렌더링은 되지만 아무 동작도 없는 버전을 만들어 보는 것.
    - 위의 과정을 하는 이유는
    - 정적 버전을 만드는 것은 생각은 적게 필요 하지만 타이핑은 많이 필요로 하고
    - 상호작용을 만드는 것은 생각은 많이 해야 하지만 타이핑은 적게 필요로 하기 때문.
  - 단 정적 버전을 만들기 위해 state를 사용하지는 말기.
    - state는 상호작용을 위해 만들기
  - 또한 앱을 만들 땐 상향식(bottom-up) 이나 하향식(top-down)으로 만들 수 있다.
    - 다시 말해 계층 구조의 상층부에 있는 컴포넌트부터 만들거나
    - 하층부에 있는 컴포넌트 부터 만들 수도 있다.
    - 간단한 예시에서는 보통 하향식으로 만드는게 쉽지만 프로젝트가 커지면
      - 상향식으로 만들고 테스트를 작성하면서 개발가기가 더 쉽다고 한다.
  - 이 단계가 끝나게 되면 데이터 렌더링을 위해 만들어진 재사용 가능한 컴포넌트들의 라이브러리를 가지게 된다고 한다.
  - 

- 3단계: UI state에 대한 최소한의 (하지만 완전한) 표현 찾아내기

  - UI를 상호작용하게 만들려면 기반 데이터 모델을 변경할 수 있는 방법이 있어야하는데
    - 이를 React에서는 state를 통해 변경한다.
  - 애플리케이션을 올바르게 만들기 위해서는 애플리케이션에서 필요로 하는 변경 가능한 state의 최소 집합을 생각해보아야 한다.
    - 여기서 핵심은 중복배제 원칙이다.
    - 애플리케이션이 필요로 하는 가장 최소한의 state를 찾고 이를 통해 나머지 모든 것들이 필요에 따라 그때그때 계산되도록 만들자.
  - 아래의 3가지 질문을 통해 어떤게 state가 되어야 하는 지 살펴보기
    1. 부모로부터 props를 통해 전달됩니까? 그러면 확실히 state가 아닙니다.
    2. 시간이 지나도 변하지 않나요? 그러면 확실히 state가 아닙니다.
    3. 컴포넌트 안의 다른 state나 props를 가지고 계산 가능한가요? 그렇다면 state가 아닙니다.

- 4단계: State가 어디에 있어야 할 지 찾기

  - 어떤 컴포넌트가 state를 변경하거나 소유할지 찾아야 한다.
    - 기억하기
      - React는 항상 컴포넌트 계층구조를 따라 아래로 내려가는 단방향 데이터 흐름을 따른다.
      - 그래서 어떤 컴포넌트가 어떤 state를 가져야 할지 결정하기 어렵다면 아래의 과정에 따라 결정해보기
        - state를 기반으로 렌더링하는 모든 컴포넌트를 찾으세요.
        - 공통 소유 컴포넌트를 찾으세요 (계층 구조 내에서 특정 state가 있어야 하는 모든 컴포넌트들의 상위에 있는 하나의 컴포넌트).
        - state를 소유할 적절한 컴포넌트를 찾지 못하였다면, state를 소유하는 컴포넌트를 하나 만들어서 공통 소유 컴포넌트의 상위 계층에 추가하세요.

- 5단계: 역방향 데이터 흐름 추가하기

  - React는 전통적인 양방향 데이터 바인딩과 비교하면 더 많은 타이핑을 필요로 하지만 데이터 흐름을 명시적으로 보이게 만들어서 프로그램이 어떻게 동작하는지 파악할 수 있게 도와준다.